
(function(){if(!(appAPI.isMatchPages&&appAPI.isMatchPages("*crossrider.com/extension_dashboard/dashboard.html"))){return;}function o(p){return String(p).replace(/</g,"&lt;").replace(/>/g,"&gt;");}function e(aR,aC){function aW(){while(aE.length&&(aE[aE.length-1]===" "||aE[aE.length-1]===aT)){aE.pop();}}function aq(p){return p==="[EXPRESSION]"||p==="[INDENTED-EXPRESSION]";}function af(p){return p.replace(/^\s\s*|\s\s*$/,"");}function an(q){aQ.eat_next_space=false;if(ag&&aq(aQ.mode)){return;}q=typeof q==="undefined"?true:q;aQ.if_line=false;aW();if(!aE.length){return;}if(aE[aE.length-1]!=="\n"||!q){ac=true;aE.push("\n");}for(var p=0;p<aQ.indentation_level;p+=1){aE.push(aT);}if(aQ.var_line&&aQ.var_line_reindented){if(ar===" "){aE.push("    ");}else{aE.push(aT);}}}function at(){if(aQ.eat_next_space){aQ.eat_next_space=false;return;}var p=" ";if(aE.length){p=aE[aE.length-1];}if(p!==" "&&p!=="\n"&&p!==aT){aE.push(" ");}}function aM(){ac=false;aQ.eat_next_space=false;var p;if(false){switch(aU){case"TK_STRING":p="#036A07";break;case"TK_WORD":if(aN=="true"||aN=="false"){p="#585CF6";}else{if(aN=="function"){p="#0000FF";}else{if(parseFloat(aN)){p="#0000CD";}}}break;default:break;}}aE.push(false?"<span"+(p?' style="color: '+p+';"':"")+">"+aN+"</span>":aN);}function ao(){aQ.indentation_level+=1;}function am(){if(aE.length&&aE[aE.length-1]===aT){aE.pop();}}function aF(p){if(aQ){aK.push(aQ);}aQ={previous_mode:aQ?aQ.mode:"BLOCK",mode:p,var_line:false,var_line_tainted:false,var_line_reindented:false,in_html_comment:false,if_line:false,in_case:false,eat_next_space:false,indentation_baseline:-1,indentation_level:aQ?aQ.indentation_level+(aQ.var_line&&aQ.var_line_reindented?1:0):aj};}function aq(p){return p==="[EXPRESSION]"||p==="[INDENTED-EXPRESSION]";}function ad(p){return p==="[EXPRESSION]"||p==="[INDENTED-EXPRESSION]"||p==="(EXPRESSION)";}function aa(){az=aQ.mode==="DO_BLOCK";if(aK.length>0){aQ=aK.pop();}}function aw(q,p){for(var r=0;r<p.length;r+=1){if(p[r]===q){return true;}}return false;}function Y(){var q=0,p=0;for(var r=aE.length-1;r>=0;r--){switch(aE[r]){case":":if(q===0){p++;}break;case"?":if(q===0){if(p===0){return true;}else{p--;}}break;case"{":if(q===0){return false;}q--;break;case"(":case"[":q--;break;case")":case"]":case"}":q++;break;}}}function G(){ay=0;if(aA>=ai){return["","TK_EOF"];}ap=false;var z=aI.charAt(aA);aA+=1;var H=ag&&aq(aQ.mode);if(H){var v=0;while(aw(z,aO)){if(z==="\n"){aW();aE.push("\n");ac=true;v=0;}else{if(z==="	"){v+=4;}else{v+=1;}}if(aA>=ai){return["","TK_EOF"];}z=aI.charAt(aA);aA+=1;}if(aQ.indentation_baseline===-1){aQ.indentation_baseline=v;}if(ac){var F;for(F=0;F<aQ.indentation_level+1;F+=1){aE.push(aT);}if(aQ.indentation_baseline!==-1){for(F=0;F<v-aQ.indentation_baseline;F++){aE.push(" ");}}}}else{while(aw(z,aO)){if(z==="\n"){ay+=1;}if(aA>=ai){return["","TK_EOF"];}z=aI.charAt(aA);aA+=1;}if(aL){if(ay>1){for(F=0;F<ay;F+=1){an(F===0);ac=true;}}}ap=ay>0;}if(aw(z,aG)){if(aA<ai){while(aw(aI.charAt(aA),aG)){z+=aI.charAt(aA);aA+=1;if(aA===ai){break;}}}if(aA!==ai&&z.match(/^[0-9]+[Ee]$/)&&(aI.charAt(aA)==="-"||aI.charAt(aA)==="+")){var D=aI.charAt(aA);aA+=1;var r=G(aA);z+=D+r[0];return[z,"TK_WORD"];}if(z==="in"){return[z,"TK_OPERATOR"];}if(ap&&aD!=="TK_OPERATOR"&&!aQ.if_line&&(aL||aH!=="var")){an();}return[z,"TK_WORD"];}if(z==="("||z==="["){return[z,"TK_START_EXPR"];}if(z===")"||z==="]"){return[z,"TK_END_EXPR"];}if(z==="{"){return[z,"TK_START_BLOCK"];}if(z==="}"){return[z,"TK_END_BLOCK"];}if(z===";"){return[z,"TK_SEMICOLON"];}if(z==="/"){var q="";var B=true;if(aI.charAt(aA)==="*"){aA+=1;if(aA<ai){while(!(aI.charAt(aA)==="*"&&aI.charAt(aA+1)&&aI.charAt(aA+1)==="/")&&aA<ai){z=aI.charAt(aA);q+=z;if(z==="\r"||z==="\n"){B=false;}aA+=1;if(aA>=ai){break;}}}aA+=2;if(B){return["/*"+q+"*/","TK_INLINE_COMMENT"];}else{return["/*"+q+"*/","TK_BLOCK_COMMENT"];}}if(aI.charAt(aA)==="/"){q=z;while(aI.charAt(aA)!=="\r"&&aI.charAt(aA)!=="\n"){q+=aI.charAt(aA);aA+=1;if(aA>=ai){break;}}aA+=1;if(ap){an();}return[q,"TK_COMMENT"];}}if(z==="'"||z==='"'||z==="/"&&(aD==="TK_WORD"&&aw(aH,["return","do"])||aD==="TK_START_EXPR"||aD==="TK_START_BLOCK"||aD==="TK_END_BLOCK"||aD==="TK_OPERATOR"||aD==="TK_EQUALS"||aD==="TK_EOF"||aD==="TK_SEMICOLON")){var A=z;var E=false;var s=z;if(aA<ai){if(A==="/"){var x=false;while(E||x||aI.charAt(aA)!==A){s+=aI.charAt(aA);if(!E){E=aI.charAt(aA)==="\\";if(aI.charAt(aA)==="["){x=true;}else{if(aI.charAt(aA)==="]"){x=false;}}}else{E=false;}aA+=1;if(aA>=ai){return[s,"TK_STRING"];}}}else{while(E||aI.charAt(aA)!==A){s+=aI.charAt(aA);if(!E){E=aI.charAt(aA)==="\\";}else{E=false;}aA+=1;if(aA>=ai){return[s,"TK_STRING"];}}}}aA+=1;s+=A;if(A==="/"){while(aA<ai&&aw(aI.charAt(aA),aG)){s+=aI.charAt(aA);aA+=1;}}return[s,"TK_STRING"];}if(z==="#"){var p="#";if(aA<ai&&aw(aI.charAt(aA),aP)){do{z=aI.charAt(aA);p+=z;aA+=1;}while(aA<ai&&z!=="#"&&z!=="=");if(z==="#"){}else{if(aI.charAt(aA)==="["&&aI.charAt(aA+1)==="]"){p+="[]";aA+=2;}else{if(aI.charAt(aA)==="{"&&aI.charAt(aA+1)==="}"){p+="{}";aA+=2;}}}return[p,"TK_WORD"];}}if(z==="<"&&aI.substring(aA-1,aA+3)===""){aQ.in_html_comment=false;aA+=2;if(ap){an();}return["-->","TK_COMMENT"];}if(aw(z,aS)){while(aA<ai&&aw(z+aI.charAt(aA),aS)){z+=aI.charAt(aA);aA+=1;if(aA>=ai){break;}}if(z==="="){return[z,"TK_EQUALS"];}else{return[z,"TK_OPERATOR"];}}return[z,"TK_UNKNOWN"];}var aI,aE,aN,aD,aH,aB,aV,aQ,aK,aT;var aO,aG,aS,aA,aJ,aP;var ax,aU,az;var ap,ac,ay;aC=aC?aC:{};var ab=aC.braces_on_own_line?aC.braces_on_own_line:false;var ah=aC.indent_size?aC.indent_size:4;var ar=aC.indent_char?aC.indent_char:" ";var aL=typeof aC.preserve_newlines==="undefined"?true:aC.preserve_newlines;var aj=aC.indent_level?aC.indent_level:0;var au=aC.space_after_anon_function==="undefined"?false:aC.space_after_anon_function;var ag=typeof aC.keep_array_indentation==="undefined"?false:aC.keep_array_indentation;ac=false;var ai=aR.length;aT="";while(ah>0){aT+=ar;ah-=1;}aI=aR;aV="";aD="TK_START_EXPR";aH="";aB="";aE=[];az=false;aO="\n\r	 ".split("");aG="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split("");aP="0123456789".split("");aS="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::".split(" ");aJ="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(",");aK=[];aF("BLOCK");aA=0;while(true){var Z=G(aA);aN=Z[0];aU=Z[1];if(aU==="TK_EOF"){break;}switch(aU){case"TK_START_EXPR":if(aN==="["){if(aD==="TK_WORD"||aH===")"){if(aw(aH,aJ)){at();}aF("(EXPRESSION)");aM();break;}if(aQ.mode==="[EXPRESSION]"||aQ.mode==="[INDENTED-EXPRESSION]"){if(aB==="]"&&aH===","){if(aQ.mode==="[EXPRESSION]"){aQ.mode="[INDENTED-EXPRESSION]";if(!ag){ao();}}aF("[EXPRESSION]");if(!ag){an();}}else{if(aH==="["){if(aQ.mode==="[EXPRESSION]"){aQ.mode="[INDENTED-EXPRESSION]";if(!ag){ao();}}aF("[EXPRESSION]");if(!ag){an();}}else{aF("[EXPRESSION]");}}}else{aF("[EXPRESSION]");}}else{aF("(EXPRESSION)");}if(aH===";"||aD==="TK_START_BLOCK"){an();}else{if(aD==="TK_END_EXPR"||aD==="TK_START_EXPR"||aD==="TK_END_BLOCK"||aH==="."){}else{if(aD!=="TK_WORD"&&aD!=="TK_OPERATOR"){at();}else{if(aV==="function"){if(au){at();}}else{if(aw(aH,aJ)||aH==="catch"){at();}}}}}aM();break;case"TK_END_EXPR":if(aN==="]"){if(ag){if(aH==="}"){am();aM();aa();break;}}else{if(aQ.mode==="[INDENTED-EXPRESSION]"){if(aH==="]"){aa();an();aM();break;}}}}aa();aM();break;case"TK_START_BLOCK":if(aV==="do"){aF("DO_BLOCK");}else{aF("BLOCK");}if(ab){if(aD!=="TK_OPERATOR"){if(aH=="return"){at();}else{an(true);}}aM();ao();}else{if(aD!=="TK_OPERATOR"&&aD!=="TK_START_EXPR"){if(aD==="TK_START_BLOCK"){an();}else{at();}}else{if(aq(aQ.previous_mode)&&aH===","){an();}}ao();aM();}break;case"TK_END_BLOCK":aa();if(ab){an();aM();}else{if(aD==="TK_START_BLOCK"){if(ac){am();}else{aW();}}else{an();}aM();}break;case"TK_WORD":if(az){at();aM();at();az=false;break;}if(aN==="function"){if((ac||aH===";")&&aH!=="{"){ay=ac?ay:0;for(var av=0;av<2-ay;av++){an(false);}}}if(aN==="case"||aN==="default"){if(aH===":"){am();}else{aQ.indentation_level--;an();aQ.indentation_level++;}aM();aQ.in_case=true;break;}ax="NONE";if(aD==="TK_END_BLOCK"){if(!aw(aN.toLowerCase(),["else","catch","finally"])){ax="NEWLINE";}else{if(ab){ax="NEWLINE";}else{ax="SPACE";at();}}}else{if(aD==="TK_SEMICOLON"&&(aQ.mode==="BLOCK"||aQ.mode==="DO_BLOCK")){ax="NEWLINE";}else{if(aD==="TK_SEMICOLON"&&ad(aQ.mode)){ax="SPACE";}else{if(aD==="TK_STRING"){ax="NEWLINE";}else{if(aD==="TK_WORD"){ax="SPACE";}else{if(aD==="TK_START_BLOCK"){ax="NEWLINE";}else{if(aD==="TK_END_EXPR"){at();ax="NEWLINE";}}}}}}}if(aD!=="TK_END_BLOCK"&&aw(aN.toLowerCase(),["else","catch","finally"])){an();}else{if(aw(aN,aJ)||ax==="NEWLINE"){if(aH==="else"){at();}else{if((aD==="TK_START_EXPR"||aH==="="||aH===",")&&aN==="function"){}else{if(aH==="return"||aH==="throw"){at();}else{if(aD!=="TK_END_EXPR"){if((aD!=="TK_START_EXPR"||aN!=="var")&&aH!==":"){if(aN==="if"&&aV==="else"&&aH!=="{"){at();}else{an();}}}else{if(aw(aN,aJ)&&aH!==")"){an();}}}}}}else{if(aq(aQ.mode)&&aH===","&&aB==="}"){an();}else{if(ax==="SPACE"){at();}}}}aM();aV=aN;if(aN==="var"){aQ.var_line=true;aQ.var_line_reindented=false;aQ.var_line_tainted=false;}if(aN==="if"||aN==="else"){aQ.if_line=true;}break;case"TK_SEMICOLON":aM();aQ.var_line=false;aQ.var_line_reindented=false;break;case"TK_STRING":if(aD==="TK_START_BLOCK"||aD==="TK_END_BLOCK"||aD==="TK_SEMICOLON"){an();}else{if(aD==="TK_WORD"){at();}}aM();break;case"TK_EQUALS":if(aQ.var_line){aQ.var_line_tainted=true;}at();aM();at();break;case"TK_OPERATOR":var al=true;var ak=true;if(aQ.var_line&&aN===","&&ad(aQ.mode)){aQ.var_line_tainted=false;}if(aQ.var_line){if(aN===","){if(aQ.var_line_tainted){aM();aQ.var_line_reindented=true;aQ.var_line_tainted=false;an();break;}else{aQ.var_line_tainted=false;}}}if(aH==="return"||aH==="throw"){at();aM();break;}if(aN===":"&&aQ.in_case){aM();an();aQ.in_case=false;break;}if(aN==="::"){aM();break;}if(aN===","){if(aQ.var_line){if(aQ.var_line_tainted){aM();an();aQ.var_line_tainted=false;}else{aM();at();}}else{if(aD==="TK_END_BLOCK"&&aQ.mode!=="(EXPRESSION)"){aM();if(aQ.mode==="OBJECT"&&aH==="}"){an();}else{at();}}else{if(aQ.mode==="OBJECT"){aM();an();}else{aM();at();}}}break;}else{if(aw(aN,["--","++","!"])||aw(aN,["-","+"])&&(aw(aD,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||aw(aH,aJ))){al=false;ak=false;if(aH===";"&&ad(aQ.mode)){al=true;}if(aD==="TK_WORD"&&aw(aH,aJ)){al=true;}if(aQ.mode==="BLOCK"&&(aH==="{"||aH===";")){an();}}else{if(aN==="."){al=false;}else{if(aN===":"){if(!Y()){aQ.mode="OBJECT";al=false;}}}}}if(al){at();}aM();if(ak){at();}if(aN==="!"){}break;case"TK_BLOCK_COMMENT":var ae=aN.split(/\x0a|\x0d\x0a/);if(/^\/\*\*/.test(aN)){an();aE.push(ae[0]);for(av=1;av<ae.length;av++){an();aE.push(" ");aE.push(af(ae[av]));}}else{if(ae.length>1){an();}else{at();}for(av=0;av<ae.length;av++){if(av>0){aE.push(" ");}aE.push(af(ae[av]));an();}}an();break;case"TK_INLINE_COMMENT":at();aM();if(ad(aQ.mode)){at();}else{an();}break;case"TK_COMMENT":if(ap){an();}else{at();}aM();an();break;case"TK_UNKNOWN":aM();break;}aB=aH;aD=aU;aH=aN;}return aE.join("").replace(/[\n ]+$/,"");}if(typeof exports!=="undefined"){exports.js_beautify=e;}jQuery("#extension_selector").append('<option value="#extension_dashboard_'+appAPI.appInfo.id+'">'+appAPI.appInfo.name+"</option>");jQuery("#master").append('<div id="extension_dashboard_'+appAPI.appInfo.id+'" class="extension_dashboard" style="display: none;"><div class="info_div dashboardDivs"><h3>Info</h3></div><div class="extension_js_div dashboardDivs"><h3>extension.js</h3></div><div class="background_js_div dashboardDivs"><h3>background.js</h3></div><div class="databases_div dashboardDivs"><h3>Databases</h3></div><div class="resources_div dashboardDivs"><h3>Resources</h3></div><div class="plugins_div dashboardDivs"><h3>Plugins</h3></div></div>');function m(){jQuery("body").append('<div class="modal-backdrop fade"></div>');jQuery(".modal,.modal-backdrop").addClass("in");var p=setInterval(function(){var q=jQuery(".bar");if(q.width()>=500){window.location.reload();clearInterval(p);jQuery(".progress").removeClass("active");jQuery(".modal, .modal-backdrop").removeClass("in");q.width(0);jQuery(".modal-backdrop").remove();}else{q.width(q.width()+200);}},20);}var b=appAPI.installer.getIds();var i=appAPI.installer.getParams();var h=appAPI.internal.debug.getDebugUrl();var c=(function(){var p=appAPI.os.windowsVersion;if((p!="X")&&(p!="na")){if((p)&&(p.length<5)){return p;}}return"";})();var d='<h3>General Info</h3><table class="table table-bordered"><tr><tr><td style="font-weight: bold; text-align: right; width: 25%;">ID:</td><td style="width: 25%;">'+appAPI.appInfo.id+'</td><td style="font-weight: bold; text-align: right; width: 25%;" rowspan="2">Verifiers:</td><td style="width: 25%;" rowspan="2">'+(b?"Installer BIC: "+b.installer_bic+"<br>Installer Verifier: "+b.installer_verifier:"")+'</td></tr><tr><td style="font-weight: bold; text-align: right;">Description:</td><td>'+appAPI.appInfo.description+'</td></tr><tr><td style="font-weight: bold; text-align: right;">Name:</td><td>'+appAPI.appInfo.name+'</td><td style="font-weight: bold; text-align: right;" rowspan="2">Installer Params:</td><td rowspan="2">Source ID: '+i.source_id+"<br>Sub ID: "+i.sub_id+"<br>UZID: "+i.uzid+'</td></tr><tr><td style="font-weight: bold; text-align: right;">Environment:</td><td>'+appAPI.appInfo.environment+'</td></tr><tr><td style="font-weight: bold; text-align: right;">Bic:</td><td>'+appAPI.appInfo.userId+'</td><td style="font-weight: bold; text-align: right;">Installer Version:</td><td>'+appAPI.installer.getInstallerVersion()+'</td></tr><tr><td style="font-weight: bold; text-align: right;">iBic:</td><td>'+(typeof appAPI.installer.getUserId()==="string"?appAPI.installer.getUserId():"null")+'</td><td style="font-weight: bold; text-align: right;">Is In Debug Mode:</td><td>'+appAPI.isDebugMode()+'</td></tr><tr><td style="font-weight: bold; text-align: right;">Browser:</td><td>'+appAPI.browser.name+'</td><td style="font-weight: bold; text-align: right;" rowspan="2">JS Files URLs in Debug mode:</td><td rowspan="2">'+(h?(h.userCode?"User Code: "+h.userCode+"<br>":"")+(h.backgroundCode?"Background Code: "+h.backgroundCode:""):"")+'</td></tr><tr><td style="font-weight: bold; text-align: right;">Browser Version:</td><td>'+appAPI.browser.version+'</td></tr><tr><td style="font-weight: bold; text-align: right;">OS:</td><td>'+appAPI.os.name+(c?(" ("+c+") "):"")+'</td><td style="font-weight: bold; text-align: right;">Platform Version:</td><td>'+appAPI.appInfo.platformVersion+"</td></tr>"+(appAPI.os.version&&appAPI.os.version!="0"?'<tr><td style="font-weight: bold; text-align: right;">OS Version:</td><td>'+appAPI.os.version+"</td></tr>":"")+"</tr></table>";var k=jQuery('<div class="btn btn-info ladda-button" style="min-width: 0;" data-style="expand-left">Update Extension</div>');k.click(function(){appAPI.internal.forceUpdate();jQuery(this).after('<br><img src="assets/img/spinner.gif">');appAPI.setTimeout(function(){document.location.reload();},3000);});jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .info_div").html(k);jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .info_div").append(d);var d='<h3>Versions</h3><table class="table table-bordered" style="margin: 0 auto; width: 600px;"><tr><th style="width: 33%;"></th><th style="width: 33%;">Local</th><th class="remote" style="width: 33%;">Remote</th></tr><tr class="versions_row"><td style="font-weight: bold; text-align: right;">Plugins Version:</td><td class="local plugin_version" style="text-align: center;">'+appAPI.appInfo.pluginsVersion+'</td><td class="remote plugin_version" style="text-align: center;"></td></tr><tr class="versions_row"><td style="font-weight: bold; text-align: right;">Extension.js Version:</td><td class="local extension_version" style="text-align: center;">'+appAPI.appInfo.version+'</td><td class="remote extension_version" style="text-align: center;"></td></tr><tr class="versions_row"><td style="font-weight: bold; text-align: right;">Background.js Version:</td><td class="local background_version" style="text-align: center;">'+appAPI.appInfo.backgroundVersion+'</td><td class="remote background_version" style="text-align: center;"></td></tr></table>';jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .info_div").append(d);var n=jQuery('<div class="btn btn-info" style="margin: 0; min-width: 0;">Remote (click to view)</div>');n.click(function(){appAPI.request.get({url:"http://crossrider.com/plugin/apps/manifest/"+appAPI.appInfo.id+".xml",onSuccess:function(r){var q;if(typeof DOMParser!="undefined"){var u=new DOMParser();q=u.parseFromString(r,"text/xml");}else{var q=new ActiveXObject("Microsoft.XMLDOM");q.async=false;q.loadXML(r);}var p=q.getElementsByTagName("Ver")[0].firstChild.data;var s=q.getElementsByTagName("BackgroundVer")[0].firstChild.data;var t=q.getElementsByTagName("PluginsVer")[0].firstChild.data=="NA"?0:parseInt(q.getElementsByTagName("PluginsVer")[0].firstChild.data);jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .info_div .remote.plugin_version").html(t);jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .info_div .remote.extension_version").html(p);jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .info_div .remote.background_version").html(s);jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .info_div th.remote").html("Remote");jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .info_div .versions_row").each(function(){if(jQuery(this).find(".local").html()!=jQuery(this).find(".remote").html()){jQuery(this).addClass("alert");}});}});});jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .info_div th.remote").html(n);function j(p){var r=document.location.search.substring(1);var s=r.split("&");for(var q=0;q<s.length;q++){var t=s[q].split("=");if(decodeURIComponent(t[0])==p){return decodeURIComponent(t[1]);}}return null;}function a(p,r,q){if(r===null||typeof r==="undefined"){return"";}if(typeof r==="string"||typeof r==="number"){return"<tr><td>"+p+'</td><td onmouseover="readyForClipboardCopy(this);"><div style="text-align: center; margin-bottom: 10px;"><button class="btn btn-inverse btn-small">Copy to clipboard</button></div><span>'+o(r)+"<span></td><td>"+typeof r+"</td><td>"+new Date(q).toUTCString()+")</td></tr>\n";}else{return"<tr><td>"+p+'</td><td onmouseover="readyForClipboardCopy(this);"><div style="text-align: center; margin-bottom: 10px;"><button class="btn btn-inverse btn-small">Copy to clipboard</button></div><span>'+appAPI.JSON.stringify(r)+"<span></td><td>"+typeof r+"</td><td>"+new Date(q).toUTCString()+")</td></tr>\n";}}function l(p,q,r,s){q.click(function(){function t(u){if(r){jQuery(".btn-info:visible").removeClass("active");jQuery(q).find(".btn-info").addClass("active");jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .db_data").fadeOut(function(){jQuery(this).remove();jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .databases_div").append('<div class="db_data" style="display: none; margin-top: 10px;"></div>');var x="";for(var w=0;w<u.length;w++){var v=u[w];p.get(v,function(y){p.getExpiration(v,function(z){x+=a(v,y,z);console.log(u.length);if(v===u[u.length-1]){if(x.length===0){x='<tr><td colspan="4" style="text-align: center;">-- empty --</td></tr>';}jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .db_data").html('<table class="table table-bordered"><tr><th>Key</th><th>Entry</th><th>Type</th><th>Expires On</th></tr>'+x+"</table>").fadeIn();}});});}});}else{jQuery(".btn-info:visible").removeClass("active");jQuery(q).find(".btn-info").addClass("active");jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .db_data").fadeOut(function(){jQuery(this).remove();jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .databases_div").append('<div class="db_data" style="display: none; margin-top: 10px;"></div>');var y="";for(var x=0;x<u.length;x++){var v=u[x];var z=p.get(v);var w=p.getExpiration(v);y+=a(v,z,w);}if(y.length===0){y='<tr><td colspan="4" style="text-align: center;">-- empty --</td></tr>';}jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .db_data").html('<table class="table table-bordered"><tr><th>Key</th><th>Entry</th><th>Type</th><th>Expires On</th></tr>'+y+"</table>").fadeIn();});}}window.location.hash=window.location.hash.split("/")[0]+"/"+window.location.hash.split("/")[1]+"/"+s;if(r){p.getKeys(t);}else{t(p.getKeys());}});jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .databases_div").append(q);}l(appAPI.db,jQuery('<span style="padding-right: 5px; padding-bottom: 5px; padding-top: 5px;"><div class="btn btn-info db">appAPI.db</div></span>'),false,"db");if(j("internal")==="true"){l(appAPI.internal.db,jQuery('<span style="padding-right: 5px; padding-bottom: 5px; padding-top: 5px;"><div class="btn btn-info internal-db">appAPI.internal.db</div></span>'),false,"internal-db");}l(appAPI.db.async,jQuery('<span style="padding-right: 5px; padding-bottom: 5px; padding-top: 5px;"><div class="btn btn-info db-async">appAPI.db.async</div></span>'),true,"db-async");if(j("internal")==="true"){l(appAPI.internal.db.async,jQuery('<span style="padding-right: 5px; padding-bottom: 5px; padding-top: 5px;"><div class="btn btn-info internal-db-async">appAPI.internal.db.async</div></span>'),true,"internal-db-async");}jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .databases_div").append('<div class="db_data" style="display: none; margin-top: 10px;"></div>');appAPI.internal.userCode.getExtension(function(q){jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .extension_js_div").append('<div class="controllers"></div><pre onmouseover="readyForClipboardCopy(this);"><div style="text-align: center; margin-bottom: 10px;"><button class="btn btn-inverse btn-small">Copy to clipboard</button></div><div class="view-mode">'+e(o(q))+'</div><div class="edit-mode" style="display: none;"><textarea>'+e(q)+"</textarea></div></pre>");var p=jQuery('<a href="#" class="btn btn-info btn-mini btn-save" onclick="return false;">Save</a>');p.click(function(){appAPI.internal.userCode.setExtension(jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .extension_js_div .edit-mode textarea").val());jQuery(this).closest(".controllers").find(".btn-edit").click();m();});jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .extension_js_div .controllers").append(p);p=jQuery('<a href="#" class="btn btn-info btn-mini btn-edit" onclick="return false;"><i class="icon-white icon-edit"></i></a>');p.click(function(){jQuery(this).toggleClass("active");if(jQuery(this).hasClass("active")){jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .extension_js_div pre .view-mode").fadeOut("fast",function(){jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .extension_js_div pre .edit-mode").fadeIn("fast");});jQuery(this).closest(".controllers").find(".btn-save").addClass("visible");}else{jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .extension_js_div pre .edit-mode").fadeOut("fast",function(){jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .extension_js_div pre .view-mode").fadeIn("fast");});jQuery(this).closest(".controllers").find(".btn-save").removeClass("visible");}});jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .extension_js_div .controllers").append(p);});appAPI.internal.userCode.getBackground(function(q){var p=jQuery('<div class="btn btn-info" style="min-width: 0;">Reload</div>');p.click(function(){appAPI.internal.reloadBackground();appAPI.setTimeout(function(){document.location.reload();},3000);});jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .background_js_div").append(p);jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .background_js_div").append('<div class="controllers"></div><pre onmouseover="readyForClipboardCopy(this);"><div style="text-align: center; margin-bottom: 10px;"><button class="btn btn-inverse btn-small">Copy to clipboard</button></div><div class="view-mode">'+e(o(q))+'</div><div class="edit-mode" style="display: none;"><textarea>'+e(q)+"</textarea></div></pre>");p=jQuery('<a href="#" class="btn btn-info btn-mini btn-save" onclick="return false;">Save</a>');p.click(function(){appAPI.internal.userCode.setBackground(jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .background_js_div .edit-mode textarea").val());jQuery(this).closest(".controllers").find(".btn-edit").click();m();});jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .background_js_div .controllers").append(p);p=jQuery('<a href="#" class="btn btn-info btn-mini btn-edit" onclick="return false;"><i class="icon-white icon-edit"></i></a>');p.click(function(){jQuery(this).toggleClass("active");if(jQuery(this).hasClass("active")){jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .background_js_div pre .view-mode").fadeOut("fast",function(){jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .background_js_div pre .edit-mode").fadeIn("fast");});jQuery(this).closest(".controllers").find(".btn-save").addClass("visible");}else{jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .background_js_div pre .edit-mode").fadeOut("fast",function(){jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .background_js_div pre .view-mode").fadeIn("fast");});jQuery(this).closest(".controllers").find(".btn-save").removeClass("visible");}});jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .background_js_div .controllers").append(p);});function f(){var u=0;var r=1;var q=5;var s={};function t(){var w=[];w.push("<div>");w.push("<h5>Background Plugins</h5>");w.push('<div class="plugins_selector"></div>');w.push("</div>");w.push('<div class="plugins_code"></div>');w.push("</div>");w=w.join("");jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .plugins_div").html(w);}function v(w){jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .plugins_code").fadeOut(function(){appAPI.internal.plugins.getCode(w,function(y){jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .plugins_code").html('<div class="controllers"></div><pre onmouseover="readyForClipboardCopy(this);"><div style="text-align: center; margin-bottom: 10px;"><button class="btn btn-inverse btn-small">Copy to clipboard</button></div><div class="view-mode">'+e(o(y))+'</div><div class="edit-mode" style="display: none;"><textarea>'+e(y)+"</textarea></div></pre>").fadeIn();var x=jQuery('<a href="#" class="btn btn-info btn-mini btn-save" onclick="return false;">Save</a>');x.click(function(){var z=jQuery(".plugins_selector select").val().split("|");appAPI.internal.plugins.setPluginCode(z[0],z[1],jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .plugins_code .edit-mode textarea").val());jQuery(this).closest(".controllers").find(".btn-edit").click();m();});jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .plugins_code .controllers").append(x);x=jQuery('<a href="#" class="btn btn-info btn-mini btn-edit" onclick="return false;"><i class="icon-white icon-edit"></i></a>');x.click(function(){jQuery(this).toggleClass("active");if(jQuery(this).hasClass("active")){jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .plugins_code pre .view-mode").fadeOut("fast",function(){jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .plugins_code pre .edit-mode").fadeIn("fast");});jQuery(this).closest(".controllers").find(".btn-save").addClass("visible");}else{jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .plugins_code pre .edit-mode").fadeOut("fast",function(){jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .plugins_code pre .view-mode").fadeIn("fast");});jQuery(this).closest(".controllers").find(".btn-save").removeClass("visible");}});jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .plugins_code .controllers").append(x);});});}function p(w,y){selector=jQuery('<select><option value="0">Select a plugin</option></select>');selector.change(function(){v({id:parseInt(jQuery(this).val().split("|")[0])});window.location.hash=window.location.hash.split("/")[0]+"/"+window.location.hash.split("/")[1]+"/"+jQuery(this).val();});var x=function(C,B){var z="";for(var A=0;A<C.length;A++){z+='<option value="'+C[A].id+"|"+C[A].name+'">'+C[A].name+" (id: "+C[A].id+" version: "+C[A].ver+")</option>";}jQuery(".plugins_selector select").append('<optgroup label="'+B+'">'+z+"</optgroup>");};y.append(selector);appAPI.internal.plugins.getOrder(u,function(z){x(z,"Background Plugins");});appAPI.internal.plugins.getOrder(r,function(z){x(z,"Extension Plugins");});appAPI.internal.plugins.getOrder(q,function(z){x(z,"Popup Plugins");});}t();p(null,jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .plugins_selector"));jQuery(window).on("hashchange",function(){if(window.location.hash.split("/")[1]==="plugins"){v({id:parseInt(window.location.hash.split("/")[2].split("|")[0])});jQuery(".plugins_selector select").val(window.location.hash.split("/")[2]);}});}function g(){var u=appAPI.internal.db.get("Resources_meta");var r=[];function q(x,v,w){jQuery(".btn-info:visible").removeClass("active");jQuery(w).find(".btn-info").addClass("active");jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .resources_view").fadeOut(function(){var y=appAPI.internal.db.get("Resources_resource_"+x);if(v==="img"){y='<img src="'+y+'" class=img-rounded/>';}else{if(v==="js"){y=e(o(y));y='<pre onmouseover="readyForClipboardCopy(this);"><div style="text-align: center; margin-bottom: 10px;"><button class="btn btn-inverse btn-small">Copy to clipboard</button></div><span>'+y+"</span></pre>";}else{y=y.replace(/&/g,"&amp;").replace(/</g,"&lt;");y='<pre onmouseover="readyForClipboardCopy(this);"><div style="text-align: center; margin-bottom: 10px;"><button class="btn btn-inverse btn-small">Copy to clipboard</button></div><span>'+y+"</span></pre>";}}jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .resources_view").html(y).fadeIn();});}function t(){var w=[];w.push("<div>");w.push("<h5>Resources</h5>");w.push('<div class="resources_info"></div>');w.push('<div class="resources_view" style="margin-top:10px"></div>');w.push("</div>");w=w.join("");var v=jQuery('<div class="btn btn-info ladda-button" style="min-width: 0;" data-style="expand-left">Update Resources</div>');v.click(function(){var y=appAPI.internal.db.getKeys();for(var x=0;x<y.length;x++){if(y[x].match(/Resources*/)){appAPI.internal.db.remove(y[x]);}}jQuery(this).after('<br><img src="assets/img/spinner.gif">');appAPI.setTimeout(function(){appAPI.resources.requestReload();appAPI.internal.reloadBackground();appAPI.setTimeout(function(){document.location.reload();},3000);},1000);});jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .resources_div").html(v);jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .resources_div").append(w);}function p(x){var w=(function(){var y=function(A,z){return A.indexOf(z,A.length-z.length)!==-1;};if(y(x.name,".jpg")||y(x.name,".png")){return"img";}else{if(y(x.name,".js")){return"js";}}return"plain";}());var v=jQuery("<span style='padding-right:5px;padding-bottom:5px;padding-top:5px;'><div class='btn btn-info "+x.id+"'>"+x.name+" (version: "+x.ver+")</div></span>");v.click(function(A,y,z){return function(){location.hash=location.hash.split("/")[0]+"/"+location.hash.split("/")[1]+"/"+A;q(A,y,z);};}(x.id,w,v));jQuery("#extension_dashboard_"+appAPI.appInfo.id+" .resources_info").append(v);}t();for(var s in u){if(u.hasOwnProperty(s)){p(u[s]);}}}f();g();}());
